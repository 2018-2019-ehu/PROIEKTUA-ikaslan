<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html">
<h:head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
    <link rel="stylesheet" type="text/css" href="../STYLE/estiloa.css" />
    <title>Login</title>
</h:head>
<h:body class="body5">
	<div class="div0">
		<div class="image">
			<img src="../logo.png" style="max-height: 100%; max-width: 100%;"></img>
		</div>
		<div class="div3">
			<h:form class="form"> 
				<h:commandButton action="ikasleaHome" value="HOME" class="button" />
			</h:form>
		</div>
		<div class="div3">
			<h:form class="form">
				<h:commandButton action="IkasleaPub.xhtml" value="PUBLIKAZIOAK" class="button" />
			</h:form>
		</div>
		<div class="div3">
			<h:form class="form">
				<h:commandButton  action="ikasleAdmin" value="ESKARIEN EGOERA" class="button" />
			</h:form>
		</div>
		<div class="div3" style="margin-left: 30px">
			<h:form class="form">
				<h:commandButton  action="#{orokorrakMB.logout()}" value="LOGOUT" class="button" />
			</h:form>
		</div>
	</div>
	<br></br>
	<h2 style="color: white; text-align: center;">LAN BILATZAILEA</h2>
	
	<div class="divprofila">
		<br></br>
		<h4 style="text-align: center;">LAN ESKAINTZAK</h4>
		
		<h:form >
			<h:outputText style="margin-left: 20px;" value="Nahi dituzun filtroak aplikatu:" /> 
			<h:panelGrid columns="6" style="margin-left: 20px;">
			<h:outputText value="Arloa:" />
				<h:selectOneMenu value="#{orokorrakMB.arloa}" >
					<f:selectItem  itemValue="Denak" itemLabel="Denak" />
					<f:selectItems value="#{orokorrakMB.lanarloenLista()}" var="a" itemValue="#{a}" itemLabel="#{a}"></f:selectItems>
		 		</h:selectOneMenu>
   			
   			<h:outputText value="Enpresa:" />
	   			<h:selectOneMenu value="#{orokorrakMB.enpresa}" >
	   				<f:selectItem itemLabel="Denak" itemValue="Denak"/>
					<f:selectItems value="#{orokorrakMB.listEnpresak}" var="e"  itemValue="#{e.izena}" itemLabel="#{e.izena}"></f:selectItems>
				</h:selectOneMenu>
				<br></br>

				<h:commandButton id="bilatu" value="BILATU" actionListener="#{orokorrakMB.lanaBilatu()}" class="button2" />
			</h:panelGrid>
				<br></br>
		
			
			<h:dataTable  rendered="#{orokorrakMB.eskaintzakAgertu==true}" styleClass="tabla" headerClass="head" value="#{orokorrakMB.lanaBilatu()}" var="eskaintzak" border="2" >
				<h:column >
					<f:facet name="header">Iraupena</f:facet>
					#{eskaintzak.iraupena}
				</h:column>
				<h:column>
					<f:facet name="header">Ordutegia</f:facet>
					#{eskaintzak.ordutegia}
				</h:column>
				<h:column>
					<f:facet name="header">Soldata</f:facet>
					#{eskaintzak.soldata}
				</h:column>
				<h:column >
					<f:facet name="header">Deskribapena</f:facet>
					#{eskaintzak.deskribapena}
				</h:column>
				<h:column>
					<f:facet name="header">Lekua</f:facet>
					#{eskaintzak.lekua}
				</h:column>
				<h:column>
					<f:facet name="header">Arloa</f:facet>
					#{eskaintzak.arloa}
				</h:column>
				<h:column>
					<f:facet name="header">Enpresa</f:facet>
					#{eskaintzak.enpresa.izena}
				</h:column>
				<h:column>
					<f:facet name="header">Eragiketa</f:facet>
					<h:commandButton action="#{popupController.show()}" styleClass="button3" id="aukeratu" value="AUKERATU" actionListener="#{orokorrakMB.eskariaGehitu(eskaintzak.idEskaintzak)}" />
				</h:column>
			
			</h:dataTable>
			
		</h:form>
		<h:form>
	
		  <h:panelGroup layout="block" styleClass="popup-panel-overlay" rendered="#{popupController.showPopup}">
                <div class="popup-panel">
                    <br></br>
                    <h:outputText value="#{orokorrakMB.eskari.eskaintzak.enpresa.izena}-ko #{orokorrakMB.eskari.eskaintzak.deskribapena} lanari aplikatu diozu." />
                    <br></br>
                    <br></br>
                    <h:outputText value="Kondizioak hurrengoak dira:" />
                    <br></br>
                    <br></br>
                    <b><h:outputText value="Soldata:" /></b>
                    <h:outputText value=" #{orokorrakMB.eskari.eskaintzak.soldata}" />
                    <br></br>
                    <b><h:outputText value="Ordutegia: " /></b>
                    <h:outputText value="#{orokorrakMB.eskari.eskaintzak.ordutegia}" />
                    <br></br>
                    <b><h:outputText value="Lekua: " /></b>
                    <h:outputText value="#{orokorrakMB.eskari.eskaintzak.lekua}" />
                    <br></br>
                    <b><h:outputText value="Iraupena: " /></b>
                    <h:outputText value="#{orokorrakMB.eskari.eskaintzak.iraupena}" />
                    <br></br>
                    <br></br>
                    <h:commandButton value="OK!" action="#{popupController.hide()}" styleClass="button3">
                       
                    </h:commandButton>
                    <br></br>
                </div>
		</h:panelGroup>
		</h:form>
		<br></br>
		<br></br>
	</div>
	
</h:body>
</html>